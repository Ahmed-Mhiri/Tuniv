<div class="page-container">
  <nz-page-header [nzTitle]="moduleName()" nzSubtitle="Browse questions or ask your own">
    <nz-page-header-extra>
      <button (click)="handleAskQuestionClick(modalFooter)" nz-button nzType="primary" class="btn-accent">
        <span nz-icon nzType="plus"></span>
        Ask Question
      </button>
    </nz-page-header-extra>
  </nz-page-header>

  <div class="content-container" nz-row nzGutter="16">
    <div nz-col nzSpan="24">
      @if (isLoading() && questions().length === 0) {
        <div class="status-container">
           <app-spinner [isLoading]="isLoading()" [overlay]="false" tip="Loading questions..."></app-spinner>
        </div>
      } @else {
        <div class="question-list">
          @for (question of questions(); track question.id) {
            <app-question-list-item [question]="question"></app-question-list-item>
          } @empty {
            <nz-empty nzNotFoundContent="No questions in this module yet. Be the first to ask!"></nz-empty>
          }
        </div>
      }
    </div>
  </div>
</div>

<ng-template #modalFooter>
  <button nz-button (click)="handleCancel()">Cancel</button>
  <button nz-button (click)="handleRegister()">Register</button>
  <button nz-button nzType="primary" (click)="handleLogin()">Log In</button>
</ng-template>