<div class="profile-container">
  @if (isLoading()) {
    <div class="status-container">
      <app-spinner></app-spinner>
      <p class="status-text">Loading Profile...</p>
    </div>
  } @else if (error()) {
    <div class="status-container">
      <nz-alert nzType="error" [nzMessage]="error()"></nz-alert>
    </div>
  } @else if (userProfile(); as profile) {
    <nz-card class="profile-card">
      <div class="profile-header">
        <nz-avatar [nzSize]="128" nzIcon="user" [nzSrc]="profile.profilePhotoUrl ?? undefined"></nz-avatar>
        <div class="profile-info">
          <h1 class="username">{{ profile.username }}</h1>
          <p class="major">{{ profile.major }}</p>
          <div class="reputation">
            <span nz-icon nzType="star" nzTheme="fill"></span>
            {{ profile.reputationScore }} Reputation
          </div>
        </div>
        @if (isOwnProfile()) {
          <a routerLink="/settings" nz-button class="edit-button">
            <span nz-icon nzType="edit"></span>
            Edit Profile
          </a>
        }
      </div>

      <nz-tabset>
        <nz-tab nzTitle="Profile Details">
          <div class="tab-content">
            <h2>Bio</h2>
            <p class="bio-text">{{ profile.bio || 'This user has not written a bio yet.' }}</p>
          </div>
        </nz-tab>
        <nz-tab nzTitle="Activity">
          <div class="tab-content">
            <p>User's questions and answers will be displayed here.</p>
          </div>
        </nz-tab>
      </nz-tabset>
    </nz-card>
  }
</div>