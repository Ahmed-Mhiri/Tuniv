:host {
  display: block;
  background-color: var(--color-background);
  min-height: calc(100vh - 64px); /* Full height minus header */
}

.page-container {
  max-width: 1280px; // Slightly wider for a more spacious feel
  margin: 0 auto;
  padding: 24px 16px; // Adjust padding for mobile
}

/* --- Main Content Feed Styling --- */
.feed-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.spinner-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 400px;
}

.empty-feed-card {
  .empty-subtext {
    color: var(--color-text-secondary);
    font-size: 14px;
    max-width: 300px;
    margin: 8px auto 16px;
  }
}

.load-more-container {
  display: flex;
  justify-content: center;
  padding: 24px 0;
}

/* --- Sidebar Styling --- */
.sidebar {
  // This wrapper enables the sticky effect on larger screens
  .sticky-sidebar-content {
    display: flex;
    flex-direction: column;
    gap: 24px;
    
    // The magic happens here!
    @media (min-width: 992px) { // nzLg breakpoint
      position: sticky;
      top: 88px; // 64px header + 24px padding
    }
  }
}

.sidebar-card {
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background-color: var(--color-surface);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03), 0 2px 4px rgba(0, 0, 0, 0.03);

  // Remove default card padding to have more control
  ::ng-deep .ant-card-body {
    padding: 0;
  }
}

// "Home" Info Card Specifics
.info-card {
  overflow: hidden; // Keep the banner contained

  .sidebar-header {
    .sidebar-banner {
      width: 100%;
      height: 80px;
      object-fit: cover;
      display: block;
    }
    .sidebar-title {
      font-size: 20px;
      font-weight: 700;
      padding: 16px 16px 8px;
    }
  }

  .sidebar-description {
    padding: 0 16px 16px;
    font-size: 14px;
    color: var(--color-text-secondary);
  }

  .sidebar-actions {
    padding: 0 16px 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  // Use the theme variable for the divider
  ::ng-deep .ant-divider {
    border-top-color: var(--color-border);
    margin: 12px 0;
  }
}

// "Top Universities" Card Specifics
.community-card {
  ::ng-deep .ant-card-head {
    padding: 0 16px;
    border-bottom: 1px solid var(--color-border);
  }
  .card-title-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    color: var(--color-text-primary);
    span[nz-icon] {
      color: var(--color-primary);
    }
  }
  ::ng-deep .ant-card-body {
    padding: 8px;
  }
}

/* --- Community List Styling (Top Universities) --- */
.community-link {
  display: flex;
  width: 100%;
  align-items: center;
  padding: 10px 8px;
  border-radius: 6px;
  transition: background-color 0.2s ease-in-out;
  text-decoration: none;

  &:hover {
    background-color: var(--color-surface-subtle);
  }

  .community-rank {
    font-weight: bold;
    font-size: 16px;
    width: 24px;
    text-align: center;
    color: var(--color-text-secondary);
  }

  .community-icon {
    font-size: 20px;
    margin: 0 12px;
    color: var(--color-primary);
  }

  .community-info {
    display: flex;
    flex-direction: column;
    flex-grow: 1;

    .community-name {
      font-weight: 500;
      color: var(--color-text-primary);
      transition: color 0.2s ease-in-out;
    }
    .community-meta {
      font-size: 12px;
      color: var(--color-text-secondary);
    }
  }
  
  // Make arrow appear on hover for a cleaner look
  .community-arrow {
    color: var(--color-text-secondary);
    font-size: 12px;
    opacity: 0;
    transform: translateX(-5px);
    transition: opacity 0.2s ease, transform 0.2s ease;
  }

  &:hover .community-arrow {
    opacity: 1;
    transform: translateX(0);
  }
}